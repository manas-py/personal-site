<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Manas Blogdari</title>
<style>
  :root{
    /* Overlay intensity for BOTH PC and Mobile (you chose 2.0) */
    --overlay-opacity: 2.0;
    --overlay-blend: overlay;
  }

  /* Base */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:#000;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    overflow:hidden; /* full-bleed scene */
  }
  .sr-only{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;padding:0;margin:-1px}

  /* Scene container */
  .scene{
    position:relative;
    width:100vw;height:100vh;min-height:100dvh;
    overflow:hidden;
    isolation:isolate; /* keep blending local */
  }

  /* TRUE layers: bg (::before) and overlay (::after) — no <img> */
  .scene::before,
  .scene::after{
    content:"";
    position:absolute; inset:0;
    background-repeat:no-repeat;
    background-size:cover;       /* PC default */
    background-position:center;  /* PC default */
  }
  .scene::before{ z-index:0; }   /* BACKGROUND */
  .scene::after{
    z-index:2;                   /* OVERLAY (above stickers) */
    mix-blend-mode:var(--overlay-blend);
    opacity:var(--overlay-opacity);
    pointer-events:none;         /* clicks pass through */
  }

  /* Stickers layer (clickable anchors) */
  .slot{
    position:absolute;
    z-index:1;                   /* between bg(0) and overlay(2) */
    width:var(--w);              /* width controlled per-slot via CSS vars */
    left:var(--l);
    top:var(--t);
  }
  .sticker{display:block;width:100%;text-decoration:none;outline:none;}
  .sticker img{display:block;width:100%;height:auto;filter:drop-shadow(0 10px 18px rgba(0,0,0,.25));}

  /* ---------- PC IMAGES & POSITIONS (greenscreen-aligned) ---------- */
  .pc::before{ background-image:url('/pc/bg.png'); background-position:center top -8%; }
  .pc::after { background-image:url('/pc/overlay.png'); background-position:center top -8%; }

  .pc .slot-1{ --w:15%; --t:8%;  --l:12%; }  /* FiradPatra */
  .pc .slot-2{ --w:25%; --t:7%;  --l:37%; }  /* Welcome/Post */
  .pc .slot-3{ --w:17%; --t:7%;  --l:70%; }  /* Kathmandu */
  .pc .slot-4{ --w:15%; --t:36%; --l:22%; }  /* YouTube */
  .pc .slot-5{ --w:15%; --t:36%; --l:69%; }  /* Px1rt  */

  /* Buy/Download images behave like stickers (you provided images) */
  .pc .slot-6{ --w:6.5%; --t:12%; --l:73%; } /* Buy (adjust as needed)   */
  .pc .slot-7{ --w:10%;  --t:12%; --l:79%; } /* Download (adjust as needed) */

  /* ---------- MOBILE IMAGES & POSITIONS ---------- */
  .mobile::before{ background-image:url('/mobile/bg.png'); }
  .mobile::after { background-image:url('/mobile/overlay.png'); } /* also 2.0 */

  /* Fit-by-width for mobile bg/overlay so all ad greenscreens are in frame */
  @media (max-width:800px){
    .mobile::before,
    .mobile::after{
      background-size:100% auto;       /* match viewport width */
      background-position:top center;  /* crop vertically if needed */
    }
  }

  /* Sticker positions for mobile (reasonable defaults; tweak anytime) */
  .mobile .slot-1{ --w:40%; --t:6%;  --l:8%;  }
  .mobile .slot-2{ --w:58%; --t:12%; --l:22%; }
  .mobile .slot-3{ --w:34%; --t:10%; --l:60%; }
  .mobile .slot-4{ --w:28%; --t:52%; --l:10%; }
  .mobile .slot-5{ --w:30%; --t:53%; --l:60%; }

  .mobile .slot-6{ --w:22%; --t:18%; --l:68%; } /* Buy (image)      */
  .mobile .slot-7{ --w:28%; --t:18%; --l:78%; } /* Download (image) */

  /* Responsive switch: PC default; show Mobile under 800px */
  .pc{display:block}
  .mobile{display:none}
  @media (max-width:800px){ .pc{display:none} .mobile{display:block} }

  /* ---------------- Footer text-only navigation (no bars) ---------------- */
  .footer-nav{
    position:fixed; left:0; right:0; bottom:14px;
    display:flex; align-items:center; justify-content:space-between;
    padding:0 18px;
    pointer-events:none;     /* allow clicks only on links */
    z-index:5;               /* above overlay */
  }
  .footer-nav a{
    pointer-events:auto;
    color:#fff; text-decoration:none; font-weight:600; letter-spacing:.2px;
    text-shadow:0 2px 8px rgba(0,0,0,.55);
  }
  .footer-left, .footer-right{ width:33%; display:flex; }
  .footer-left{ justify-content:flex-start; }
  .footer-center{ width:34%; display:flex; justify-content:center; }
  .footer-right{ justify-content:flex-end; }

  /* ---------------- Newsletter modal ---------------- */
  .modal{
    position:fixed; inset:0; display:none; place-items:center;
    z-index:6; background:rgba(0,0,0,.45);
  }
  .modal[open]{ display:grid; }
  .sheet{
    background:rgba(18,18,18,.92); color:#fff;
    padding:18px 16px 14px; border-radius:16px;
    min-width:min(92vw,460px);
    box-shadow:0 20px 60px rgba(0,0,0,.45);
    border:1px solid rgba(255,255,255,.12);
  }
  .sheet h2{ margin:0 0 10px; font-size:18px }
  .sheet form{ display:flex; gap:8px; }
  .sheet input[type=email]{
    flex:1; padding:10px 12px; border-radius:12px; border:1px solid #333;
    background:#0f0f0f; color:#fff; font-size:15px;
  }
  .sheet button{
    padding:10px 14px; border-radius:12px; border:0; font-weight:700;
    background:#ffd400; color:#111; cursor:pointer;
  }
  .sheet p{ margin:8px 0 0; font-size:12px; opacity:.8 }

  /* Debug helper for placements */
  body.debug .slot{ outline:2px dashed rgba(255,255,255,.8) }
  body.debug .slot::after{
    content:attr(data-slot);
    position:absolute; top:-.9rem; left:-.9rem;
    background:#ff2; color:#111; border-radius:6px; padding:.25rem .35rem;
    font:600 12px/1.2 ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
    box-shadow:0 2px 6px rgba(0,0,0,.25);
  }
</style>
</head>
<body>

<!-- ===================== DESKTOP (PC) SCENE ===================== -->
<section class="scene pc" aria-label="Desktop scene with layered background and interactive stickers">
  <!-- Stickers -->
  <div class="slot slot-1" data-slot="#1">
    <a class="sticker" href="#" aria-label="FiradPatra">
      <img src="/pc/fp.png" alt="FiradPatra">
    </a>
  </div>
  <div class="slot slot-2" data-slot="#2">
    <a class="sticker" href="#" aria-label="Post">
      <img src="/pc/post.png" alt="Post">
    </a>
  </div>
  <div class="slot slot-3" data-slot="#3">
    <a class="sticker" href="#" aria-label="Kathmandu">
      <img src="/pc/ktm.png" alt="Kathmandu">
    </a>
  </div>
  <div class="slot slot-4" data-slot="#4">
    <a class="sticker" href="#" aria-label="YouTube">
      <img src="/pc/yt.png" alt="YouTube">
    </a>
  </div>
  <div class="slot slot-5" data-slot="#5">
    <a class="sticker" href="#" aria-label="Px1rt">
      <img src="/pc/px1rt.png" alt="Px1rt">
    </a>
  </div>

  <!-- Buy / Download as linked images -->
  <div class="slot slot-6" data-slot="#buy">
    <a class="sticker" href="#" target="_blank" rel="noopener" aria-label="Buy">
      <img src="/pc/buy.png" alt="Buy">
    </a>
  </div>
  <div class="slot slot-7" data-slot="#download">
    <a class="sticker" href="/ktm.pdf" download aria-label="Download PDF">
      <img src="/pc/download.png" alt="Download">
    </a>
  </div>
</section>

<!-- ===================== MOBILE SCENE ===================== -->
<section class="scene mobile" aria-label="Mobile scene with layered background and interactive stickers">
  <div class="slot slot-1" data-slot="#1">
    <a class="sticker" href="#" aria-label="FiradPatra">
      <img src="/mobile/fp.png" alt="FiradPatra">
    </a>
  </div>
  <div class="slot slot-2" data-slot="#2">
    <a class="sticker" href="#" aria-label="Post">
      <img src="/mobile/post.png" alt="Post">
    </a>
  </div>
  <div class="slot slot-3" data-slot="#3">
    <a class="sticker" href="#" aria-label="Kathmandu">
      <img src="/mobile/ktm.png" alt="Kathmandu">
    </a>
  </div>
  <div class="slot slot-4" data-slot="#4">
    <a class="sticker" href="#" aria-label="YouTube">
      <img src="/mobile/yt.png" alt="YouTube">
    </a>
  </div>
  <div class="slot slot-5" data-slot="#5">
    <a class="sticker" href="#" aria-label="Px1rt">
      <img src="/mobile/px1rt.png" alt="Px1rt">
    </a>
  </div>

  <!-- Buy / Download as linked images -->
  <div class="slot slot-6" data-slot="#buy">
    <a class="sticker" href="#" target="_blank" rel="noopener" aria-label="Buy">
      <img src="/mobile/buy.png" alt="Buy">
    </a>
  </div>
  <div class="slot slot-7" data-slot="#download">
    <a class="sticker" href="/ktm.pdf" download aria-label="Download PDF">
      <img src="/mobile/download.png" alt="Download">
    </a>
  </div>
</section>

<!-- ===================== TEXT-ONLY FOOTER NAV ===================== -->
<nav class="footer-nav" aria-label="Footer navigation">
  <div class="footer-left">
    <a href="#" id="resume-link" aria-label="Resume">Resume</a>
  </div>
  <div class="footer-center">
    <a href="#newsletter" id="newsletter-open" aria-label="Signup for Newsletter">Signup for Newsletter</a>
  </div>
  <div class="footer-right">
    <a href="#archive" id="archive-link" aria-label="Archive posts">Archive posts</a>
  </div>
</nav>

<!-- ===================== NEWSLETTER MODAL ===================== -->
<dialog class="modal" id="newsletter-modal" aria-labelledby="news-title">
  <div class="sheet">
    <h2 id="news-title">Join my newsletter</h2>
    <form id="newsletter-form">
      <label class="sr-only" for="email">Email</label>
      <input type="email" id="email" name="email" placeholder="you@example.com" autocomplete="email" required />
      <button type="submit">Subscribe</button>
    </form>
    <p id="newsletter-msg" role="status" aria-live="polite"></p>
    <p style="opacity:.65">No spam. I’ll email only when I post something new.</p>
  </div>
</dialog>

<script>
/* ===========================================================
   Newsletter list (client-only, no backend)
   - Stores emails in localStorage ("newsletter_emails")
   - You can export the list by typing: exportNewsletter()
   - Link the Resume and Archive however you like (placeholders now)
=========================================================== */
(function(){
  const modal = document.getElementById('newsletter-modal');
  const openBtn = document.getElementById('newsletter-open');
  const form = document.getElementById('newsletter-form');
  const msg = document.getElementById('newsletter-msg');

  // Open/close modal
  openBtn.addEventListener('click', (e)=>{ e.preventDefault(); modal.setAttribute('open',''); document.getElementById('email').focus(); });
  modal.addEventListener('click', (e)=>{ if(e.target === modal) modal.removeAttribute('open'); });
  addEventListener('keydown', (e)=>{ if(e.key==='Escape') modal.removeAttribute('open'); });

  // Storage helpers
  const KEY = 'newsletter_emails';
  function loadList(){
    try{ return JSON.parse(localStorage.getItem(KEY)) || []; }catch{ return []; }
  }
  function saveList(list){ localStorage.setItem(KEY, JSON.stringify(list)); }

  form.addEventListener('submit', (e)=>{
    e.preventDefault();
    const email = (new FormData(form).get('email') || '').toString().trim().toLowerCase();
    if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){
      msg.textContent = 'Please enter a valid email address.'; return;
    }
    const list = loadList();
    if(list.some(x=>x.email===email)){ msg.textContent = 'You’re already on the list. Thank you!'; return; }
    list.push({email, ts: new Date().toISOString()});
    saveList(list);
    msg.textContent = 'Subscribed! You’ll hear from me when I post.';
    form.reset();
    // Optional: fire-and-forget mailto to notify you (uncomment to use)
    // location.href = `mailto:you@domain.com?subject=New newsletter signup&body=${encodeURIComponent(email)}`;
  });

  // Public export if you need to grab the CSV quickly from the console
  window.exportNewsletter = function(){
    const list = loadList();
    const rows = [['email','timestamp'], ...list.map(x=>[x.email,x.ts])];
    const csv = rows.map(r=>r.map(v=>`"${String(v).replaceAll('"','""')}"`).join(',')).join('\n');
    const blob = new Blob([csv], {type:'text/csv'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url; a.download = 'newsletter_emails.csv';
    document.body.appendChild(a); a.click();
    setTimeout(()=>{ URL.revokeObjectURL(url); a.remove(); }, 0);
  };

  // Footer placeholder links (adjust to your actual URLs)
  document.getElementById('resume-link').addEventListener('click', (e)=>{ e.preventDefault(); alert('Link this to your resume (PDF or page).'); });
  document.getElementById('archive-link').addEventListener('click', (e)=>{ e.preventDefault(); alert('Archive page coming soon. You can make a separate page or build it here.'); });

  // Debug key: press "d" to outline sticker slots
  addEventListener('keydown', e=>{
    if(e.key.toLowerCase()==='d'){ document.body.classList.toggle('debug'); }
  }, {passive:true});
})();
</script>
</body>
</html>
